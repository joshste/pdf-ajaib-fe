import{_ as $}from"./Navbar.2cc58723.js";import{_ as I,c as X,a as Y,b as j}from"./EmbedPDFView.vue_vue_type_script_setup_true_lang.d2c99702.js";import{a as L,r as i,b as B,e as h,f as e,h as _,w as d,v as w,u as t,i as s,j as m,k as E,o as P,l as A,F as G}from"./entry.72d8231a.js";const H={class:"space-y-5"},O={class:"container flex flex-wrap items-center justify-between mx-auto space-y-5"},z={class:"container flex flex-wrap items-left mx-auto flex space-x-10"},T=e("label",{class:"block mb-2 text-sm font-medium text-black dark:text-black",for:"posX"},"Posisi X",-1),Z=e("label",{class:"block mb-2 text-sm font-medium text-black dark:text-black",for:"posY"},"Posisi Y",-1),q=e("label",{class:"block mb-2 text-sm font-medium text-black dark:text-black",for:"pageidx"},"Halaman ",-1),J={class:"container flex flex-wrap items-left mx-auto flex space-x-10"},K=e("p",null,"Select your shape:",-1),Q=e("label",{for:"rectangle"},"Rectangle",-1),W=e("label",{for:"circle"},"Circle",-1),ee=e("label",{for:"arrow"},"Arrow",-1),le=e("label",{for:"arrow"},"Star",-1),oe={class:"container flex flex-wrap items-left mx-auto flex space-x-10"},ne=e("p",null,"Select your color:",-1),te=e("label",{for:"red"},"Red",-1),ae=e("label",{for:"green"},"Green",-1),re=e("label",{for:"blue"},"Blue",-1),se={class:"container flex flex-wrap items-left mx-auto flex space-x-10"},de=["href"],ue=L({__name:"DrawingForm",props:{filePdf:null},emits:["update:filePdf"],setup(U,{emit:u}){const b=U,g=i(!1);let v=!1;const p=i(),f=i(),c=i(),x=i(""),k=i(!1),a=i(""),r=i(""),F=o=>{k.value=!1,u("update:filePdf",o)},y=()=>{k.value=!1,v=f.value!==""&&p.value!==""},V=B(()=>async()=>{if(console.log(`file: ${b.filePdf}`),console.log(f.value),console.log(p.value),console.log(c.value),console.log(a.value),!v||!b.filePdf)return;const o=new FormData;o.append("pdf-file",b.filePdf),o.append("posX",f.value),o.append("posY",p.value),o.append("page-idx",c.value),o.append("red-value",String(D(r.value))),o.append("green-value",String(C(r.value))),o.append("blue-value",String(R(r.value))),o.append("svg-path",S(a.value));const l=await X("add-drawing",{method:"post",body:o});x.value=window.URL.createObjectURL(l),k.value=!0}),S=o=>o=="rectangle"?"M10,10   l100,0  0,50  -100,0  0,-50":o=="circle"?"M 100 100 a 50 50 0 1 0 0.00001 0":o=="arrow"?"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z":"M50,0 L58.82,37.86 L97.55,34.55 L64.27,54.64 L78.39,90.45 L50,65 L21.61,90.45 L35.73,54.64 L2.45,34.55 L41.18,37.86 Z",D=o=>o=="red"?1:0,C=o=>o=="green"?1:0,R=o=>o=="blue"?1:0;return(o,l)=>{const M=Y,N=I;return P(),h("div",null,[e("div",H,[_(M,{onPdfChanged:F})]),e("div",O,[e("div",z,[e("div",null,[T,d(e("input",{type:"number","onUpdate:modelValue":l[0]||(l[0]=n=>s(f)?f.value=n:null),onInput:y,name:"posX",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,544),[[w,t(f)]])]),e("div",null,[Z,d(e("input",{type:"number","onUpdate:modelValue":l[1]||(l[1]=n=>s(p)?p.value=n:null),onInput:y,name:"posY",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,544),[[w,t(p)]])]),e("div",null,[q,d(e("input",{type:"number","onUpdate:modelValue":l[2]||(l[2]=n=>s(c)?c.value=n:null),onInput:y,name:"pageidx",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,544),[[w,t(c)]])])]),e("div",J,[K,e("div",null,[d(e("input",{type:"radio",name:"shape",value:"rectangle",id:"rectangle","onUpdate:modelValue":l[3]||(l[3]=n=>s(a)?a.value=n:null)},null,512),[[m,t(a)]]),Q]),e("div",null,[d(e("input",{type:"radio",name:"shape",value:"circle",id:"circle","onUpdate:modelValue":l[4]||(l[4]=n=>s(a)?a.value=n:null)},null,512),[[m,t(a)]]),W]),e("div",null,[d(e("input",{type:"radio",name:"shape",value:"arrow",id:"arrow","onUpdate:modelValue":l[5]||(l[5]=n=>s(a)?a.value=n:null)},null,512),[[m,t(a)]]),ee]),e("div",null,[d(e("input",{type:"radio",name:"shape",value:"star",id:"star","onUpdate:modelValue":l[6]||(l[6]=n=>s(a)?a.value=n:null)},null,512),[[m,t(a)]]),le])]),e("div",oe,[ne,e("div",null,[d(e("input",{type:"radio",name:"color",value:"red",id:"red","onUpdate:modelValue":l[7]||(l[7]=n=>s(r)?r.value=n:null)},null,512),[[m,t(r)]]),te]),e("div",null,[d(e("input",{type:"radio",name:"color",value:"green",id:"green","onUpdate:modelValue":l[8]||(l[8]=n=>s(r)?r.value=n:null)},null,512),[[m,t(r)]]),ae]),e("div",null,[d(e("input",{type:"radio",name:"color",value:"blue",id:"blue","onUpdate:modelValue":l[9]||(l[9]=n=>s(r)?r.value=n:null)},null,512),[[m,t(r)]]),re])]),e("div",se,[e("button",{onClick:l[10]||(l[10]=(...n)=>t(V)&&t(V)(...n)),class:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"},"Submit"),t(k)?(P(),h("a",{key:0,href:t(x),download:"result.pdf",class:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"},"Download",8,de)):E("",!0)])]),_(N,{activated:t(g),onOnClose:l[11]||(l[11]=n=>g.value=!1)},null,8,["activated"])])}}}),ce=L({__name:"adddrawing",setup(U){let u=i(),b=B(()=>{if(!!u.value)return new Blob([u.value],{type:"application/pdf"})});return A(u,g=>{console.log(`watched: ${g}`)}),(g,v)=>{const p=$,f=ue,c=j;return P(),h(G,null,[e("div",null,[_(p)]),e("div",null,[e("div",null,[_(f,{filePdf:t(u),"onUpdate:filePdf":v[0]||(v[0]=x=>s(u)?u.value=x:u=x)},null,8,["filePdf"]),_(c,{pdfBlob:t(b)},null,8,["pdfBlob"])])])],64)}}});export{ce as default};
