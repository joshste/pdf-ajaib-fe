import{_ as V}from"./Navbar.2cc58723.js";import{_ as C,c as D,a as I,b as N}from"./EmbedPDFView.vue_vue_type_script_setup_true_lang.d2c99702.js";import{a as B,r as u,b as F,e as _,f as e,h as p,w as b,v as y,u as n,i as v,k as R,o as g,l as j,F as E}from"./entry.72d8231a.js";const A={class:"flex flex-1 flex-col justify-center items-center"},P={class:"mb-10 max-w-[25vw]"},S=e("p",null,"Enter page index to swap (start from 0)",-1),L={class:"flex flex-row justify-end mt-3 items-center"},O=e("label",{for:"A"},"First Index",-1),M={class:"flex flex-row justify-end mt-3 items-center"},T=e("label",{for:"B"},"Second Index",-1),q={class:"mt-5"},z=["href"],G=B({__name:"ReorderForm",props:{file:null},emits:["update:file"],setup(h,{emit:o}){const c=h;let f=!1;const s=u(!1),a=u(),l=u(),m=u(""),r=u(!1),$=i=>{r.value=!1,o("update:file",i)},w=()=>{r.value=!1,f=a.value!==""&&l.value!==""},x=F(()=>async()=>{if(console.log(`file: ${c.file}`),!f||!c.file){s.value=!0;return}const i=new FormData;i.append("swap-instruction",`${a.value},${l.value}`),i.append("pdf-file",c.file);try{const t=await D("reorder-pdf",{method:"post",body:i});m.value=window.URL.createObjectURL(t),r.value=!0}catch{s.value=!0}});return(i,t)=>{const k=I,U=C;return g(),_("div",A,[e("div",P,[p(k,{onPdfChanged:$})]),e("div",null,[S,e("div",L,[O,b(e("input",{class:"px-5 ml-5 w-32 h-10 text-white rounded-md dark:bg-gray-700",type:"number",name:"A","onUpdate:modelValue":t[0]||(t[0]=d=>v(a)?a.value=d:null),onInput:w},null,544),[[y,n(a)]])]),e("div",M,[T,b(e("input",{class:"px-5 ml-5 w-32 h-10 text-white rounded-md dark:bg-gray-700",type:"number",name:"B","onUpdate:modelValue":t[1]||(t[1]=d=>v(l)?l.value=d:null),onInput:w},null,544),[[y,n(l)]])])]),e("button",{onClick:t[2]||(t[2]=(...d)=>n(x)&&n(x)(...d)),class:"mt-10 px-10 py-4 bg-gray-700 text-white font-bold text-xs leading-tight uppercase rounded-xl shadow-md hover:bg-gray-800 hover:shadow-lg focus:bg-gray-800 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-gray-800 active:shadow-lg transition duration-150 ease-in-out"}," Submit "),e("div",q,[n(r)?(g(),_("a",{key:0,href:n(m),download:"result.pdf",class:"px-10 py-4 bg-gray-700 text-white font-bold text-xs leading-tight uppercase rounded-xl shadow-md hover:bg-gray-800 hover:shadow-lg focus:bg-gray-800 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-gray-800 active:shadow-lg transition duration-150 ease-in-out"},"Download",8,z)):R("",!0)]),p(U,{activated:n(s),onOnClose:t[3]||(t[3]=d=>s.value=!1)},null,8,["activated"])])}}}),H={class:"flex max-w-[100vw]"},J={class:"bg-[#2a2a2e] font-extralight font-mono text-white"},X=B({__name:"reorder",setup(h){let o=u(),c=F(()=>{if(!!o.value)return new Blob([o.value],{type:"application/pdf"})});return j(o,f=>{console.log(`watched: ${f}`)}),(f,s)=>{const a=V,l=G,m=N;return g(),_(E,null,[p(a),e("div",H,[p(l,{file:n(o),"onUpdate:file":s[0]||(s[0]=r=>v(o)?o.value=r:o=r)},null,8,["file"]),e("div",J,[p(m,{pdfBlob:n(c)},null,8,["pdfBlob"])])])],64)}}});export{X as default};
