import{_ as h}from"./Navbar.2cc58723.js";import{_ as C,c as D,a as N,b as U}from"./EmbedPDFView.vue_vue_type_script_setup_true_lang.d2c99702.js";import{a as x,r as i,b as F,e as _,h as u,w as V,v as k,u as o,f as d,i as y,k as R,o as v,F as E}from"./entry.72d8231a.js";const I={class:"flex flex-1 flex-col justify-center items-center"},P=["href"],j=x({__name:"RemoveForm",props:{file:null},emits:["update:file"],setup(b,{emit:t}){const r=b;let m=!1;const n=i(!1),a=i(),f=i(""),l=i(!1),c=s=>{l.value=!1,t("update:file",s)},B=()=>{l.value=!1,m=a.value!==""},w=F(()=>async()=>{if(console.log(`file: ${r.file}`),!m||!r.file){n.value=!0;return}const s=new FormData;s.append("remove-index",`${a.value}`),s.append("pdf-file",r.file);try{const e=await D("remove-page",{method:"post",body:s});f.value=window.URL.createObjectURL(e),l.value=!0}catch{n.value=!0}});return(s,e)=>{const $=N,g=C;return v(),_("div",I,[u($,{onPdfChanged:c}),V(d("input",{type:"number",name:"remove","onUpdate:modelValue":e[0]||(e[0]=p=>y(a)?a.value=p:null),onInput:B},null,544),[[k,o(a)]]),d("button",{onClick:e[1]||(e[1]=(...p)=>o(w)&&o(w)(...p))},"Submit"),o(l)?(v(),_("a",{key:0,href:o(f),download:"result.pdf"},"Download",8,P)):R("",!0),u(g,{activated:o(n),onOnClose:e[2]||(e[2]=p=>n.value=!1)},null,8,["activated"])])}}}),L={class:"flex max-w-[100vw]"},T=x({__name:"removepage",setup(b){let t=i(),r=F(()=>{if(!!t.value)return new Blob([t.value],{type:"application/pdf"})});return(m,n)=>{const a=h,f=j,l=U;return v(),_(E,null,[d("div",null,[u(a)]),d("div",L,[u(f,{file:o(t),"onUpdate:file":n[0]||(n[0]=c=>y(t)?t.value=c:t=c)},null,8,["file"]),u(l,{pdfBlob:o(r)},null,8,["pdfBlob"])])],64)}}});export{T as default};
